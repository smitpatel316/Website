<html>
    <head>
    <link href="https://fonts.googleapis.com/css?family=Arvo" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" type="text/css" href="style.css">
        <title>Weighted Calculator</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script >
            var grades = {};
            var final = 0;
            var total = 0;
            function showData(){
                var grade = $("#grade").val();
                var weight = $("#weight").val();
                grades[grade] = weight;
                var table = document.getElementById("mytable");
                var row = table.insertRow();
                var cell1 = row.insertCell(0);
                var cell2 = row.insertCell(1);
                cell1.innerHTML = grade;
                cell2.innerHTML = weight;
                $("#grade").val("");
                $("#weight").val("");

            }
            function calculate(){
                total = 0;
                final = 0;
                for(var key in grades) {
                    var value = grades[key];
                    total +=  parseInt(value, 10);
                }

                for(var key in grades){
                    var value = grades[key];
                    final += (key*value)/total;
                }
                final = Math.round(final*10)/10;
                $("#mark").html(final);
            }
            function convert(){
                var uni_id = document.getElementById("uni");
                var uni = uni_id.options[uni_id.selectedIndex].value;
                var result = 0.0;
                if(uni == "mac"){
                    if(final >= 90 && final <= 100){
                        result = 12;
                    }
                    else if (final >= 85 && final < 90){
                        result = 11;
                    }
                    else if (final >= 80 && final < 85){
                        result = 10;
                    }
                    else if (final >= 77 && final < 80){
                        result = 9;
                    }
                    else if (final >= 73 && final < 77){
                        result = 8;
                    }
                    else if (final >= 70 && final < 73){
                        result = 7;
                    }
                    else if (final >= 67 && final < 70){
                        result = 6;
                    }
                    else if (final >= 63 && final < 67){
                        result = 5;
                    }
                    else if (final >= 60 && final < 63){
                        result = 4;
                    }
                    else if (final >= 57 && final < 60){
                        result = 3;
                    }
                    else if (final >= 53 && final < 57){
                        result = 2;
                    }
                    else if (final >= 50 && final < 53){
                        result = 1;
                    }
                    else if (final >= 0 && final < 50){
                        result = 0;
                    }
                }
                else if(uni == "york"){
                    if(final >= 90 && final <= 100){
                        result = 9;
                    }
                    else if (final >= 80 && final < 90){
                        result = 8;
                    }
                    else if (final >= 75 && final < 80){
                        result = 7;
                    }
                    else if (final >= 70 && final < 75){
                        result = 6;
                    }
                    else if (final >= 65 && final < 70){
                        result = 5;
                    }
                    else if (final >= 60 && final < 65){
                        result = 4;
                    }
                    else if (final >= 55 && final < 60){
                        result = 3;
                    }
                    else if (final >= 50 && final < 55){
                        result = 2;
                    }
                    else if (final >= 45 && final < 50){
                        result = 1;
                    }
                    else if (final >= 0 && final < 45){
                        result = 0;
                    }
                }
                else if(uni == "uoft"){
                    //result = parseFloat(result);
                    if(final >= 90 && final <= 100){
                        result = 4.0;
                    }
                    else if (final >= 85 && final < 90){
                        result = 4.0;
                    }
                    else if (final >= 80 && final < 85){
                        result = 3.7;
                    }
                    else if (final >= 77 && final < 80){
                        result = 3.3;
                    }
                    else if (final >= 73 && final < 77){
                        result = 3.0;
                    }
                    else if (final >= 70 && final < 72){
                        result = 2.7;
                    }
                    else if (final >= 67 && final < 70){
                        result = 2.3;
                    }
                    else if (final >= 63 && final < 67){
                        result = 2.0;
                    }
                    else if (final >= 60 && final < 63){
                        result = 1.7;
                    }
                    else if (final >= 57 && final < 60){
                        result = 1.3;
                    }
                    else if (final >= 53 && final < 57){
                        result = 1.0;
                    }
                    else if (final >= 50 && final < 53){
                        result = 0.7;
                    }
                    else if (final >= 0 && final < 50){
                        result = 0.0;
                    }
                }
                $("#gpa").html(result);
            }
        </script>

    </head>

<body style="background-color:#710000;">
    <div>
        <h3>
            Enter Grade:
        </h3>
        <input type="text" id="grade" name=""/>
        <br />
        <h3>Enter Weight:</h3>
        <input type="text" id="weight" name="" />
        <br />
        <br />
        <button class="button button2" onclick="showData()"><p>Add</p></button>
        <button class="button button2" onclick="calculate()"><p>Calculate</p></button>
    </div>
        <br />
        <table id="mytable" align="center" class="table-style-one">
            <tr>
                <th>Grade</th><th>Weight</th>
            </tr>
        </table>
        <br />
        <h1 align="center">
            Weighted Mark: <label id="mark"></label>
        </h1>
        <br />
        <form>
            <select id="uni" name="Universities">
                <option value="uoft">
                    UofT
                </option>
                <option value="york">
                    York
                </option>
                <option value="mac">
                    McMaster
                </option>
            </select>
        </form>
        <br />
        <button class="button button2" onclick="convert()"><p>GPA</p></button>
        <br />
        <h1 align="center">
            GPA: <label id="gpa"></label>
        </h1>
</body>
</html>


